
# ESP32-C3 pH Monitoring via Serial



<div align="center">
	<img src="https://img.shields.io/badge/Platform-ESP32--C3-blue" alt="Platform">
	<img src="https://img.shields.io/badge/Interface-Serial-green" alt="Serial">
	<img src="https://img.shields.io/badge/Language-Arduino%20C++-brightgreen" alt="Arduino C++">
</div>

---

## üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô


1. **‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**
   - ‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32-C3
   - ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤ pH (‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏û‡∏∏‡∏ï‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡∏≤ A1 ‡∏Ç‡∏≠‡∏á ESP32-C3)
   - ‡∏™‡∏≤‡∏¢ USB ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°

2. **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£**
   - ‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏û‡∏∏‡∏ï‡∏Ç‡∏≠‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå pH ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏Ç‡∏≤ A1 (phPin) ‡∏Ç‡∏≠‡∏á ESP32-C3
   - ‡∏ï‡πà‡∏≠‡∏Ç‡∏≤ GND ‡πÅ‡∏•‡∏∞ VCC ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÇ‡∏°‡∏î‡∏π‡∏•

3. **‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Arduino IDE)**
   - ‡πÄ‡∏õ‡∏¥‡∏î Arduino IDE
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32-C3 ‡πÅ‡∏•‡∏∞‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
   - ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå .ino
   - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Upload ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡∏á‡∏ö‡∏≠‡∏£‡πå‡∏î

4. **‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**
   - ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor ‡∏ó‡∏µ‡πà baudrate 115200
   - ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Voltage ‡πÅ‡∏•‡∏∞ pH ‡∏ó‡∏µ‡πà Serial Monitor

5. **‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö (Calibration)**
   - ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô pH 1, 7, 14 ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ V_PH1, V_PH7, V_PH14 ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î
   - ‡∏´‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≤‡∏•‡∏¥‡πÄ‡∏ö‡∏£‡∏ï‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏à‡∏£‡∏¥‡∏á

6. **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á**
   - ‡πÉ‡∏ä‡πâ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡πà‡∏á
   - ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏∑‡πà‡∏ô

---

## üíª ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î
```cpp
/*
 * Project: ESP32-C3 pH Sensor (Custom Calibration)
 * Author: Alfa (https://github.com/alfaxphoori)
 * Description: ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ pH ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö 3 ‡∏à‡∏∏‡∏î (Piecewise Linear Interpolation)
 * ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏£‡∏î‡πÅ‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏™‡πâ‡∏ô (Non-linear)
 */

// --- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Hardware ---
// ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì Map ‡∏Ç‡∏≤ A1 ‡πÄ‡∏õ‡πá‡∏ô GPIO ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÑ‡∏´‡∏ô 
// ‡∏´‡∏≤‡∏Å Compile ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô A1 ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≤ GPIO ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÄ‡∏ä‡πà‡∏ô 0, 1, 2, 3 ‡∏´‡∏£‡∏∑‡∏≠ 4
const int phPin = A1; 

// --- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö ---
const float ESP_ADC_VOLTAGE = 3.3; // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ç‡∏≠‡∏á ESP32 (V)
const int ADC_RESOLUTION = 4095;   // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î 12-bit (0 - 4095)

// --- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Calibration (‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô) ---
const float V_PH7  = 2.186; // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ô‡∏à‡∏∏‡πà‡∏° pH 7.0
const float V_PH1  = 2.537; // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ô‡∏à‡∏∏‡πà‡∏° pH 1.0 (Acid)
const float V_PH14 = 0.980; // ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ô‡∏à‡∏∏‡πà‡∏° pH 14.0 (Base)

void setup() {
  Serial.begin(115200);
  
  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô 12-bit
  analogReadResolution(12);
  
  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Attenuation ‡πÄ‡∏õ‡πá‡∏ô 11dB ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 0 - 2.6V ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏∂‡∏á 3.3V)
  // ‡∏Ñ‡πà‡∏≤ pH 1 ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà 2.537V ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏¢‡πà‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏û‡∏≠‡∏î‡∏µ
  analogSetAttenuation(ADC_11db);
  
  Serial.println("---------------------------------------------");
  Serial.println("ESP32-C3 pH Meter Started");
  Serial.println("Author: Alfa");
  Serial.println("Calibration Mode: 3-Point Piecewise Linear");
  Serial.println("---------------------------------------------");
}

/*
 * ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ pH ‡∏à‡∏≤‡∏Å‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô (Voltage)
 * ‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏£‡∏á y = mx + c ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á (Piecewise)
 */
float getPH(float voltage) {
  float slope;
  
  // ‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏î (Acidic Range): Voltage ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡∏≤‡∏á (pH 7)
  // ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: pH 7=2.186V, pH 1=2.537V (‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏î ‡πÇ‡∏ß‡∏•‡∏ï‡πå‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á)
  if (voltage > V_PH7) { 
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ô (Slope) ‡∏ä‡πà‡∏ß‡∏á pH 1 ‡∏ñ‡∏∂‡∏á pH 7
    slope = (7.0 - 1.0) / (V_PH7 - V_PH1); 
    
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ pH
    return 7.0 + slope * (voltage - V_PH7);
  } 
  // ‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡πà‡∏≤‡∏á (Basic Range): Voltage ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡∏≤‡∏á
  // ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: pH 7=2.186V, pH 14=0.980V
  else { 
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ô (Slope) ‡∏ä‡πà‡∏ß‡∏á pH 7 ‡∏ñ‡∏∂‡∏á pH 14
    slope = (14.0 - 7.0) / (V_PH14 - V_PH7); 
    
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ pH
    return 7.0 + slope * (voltage - V_PH7);
  }
}

void loop() {
  // 1. ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ ADC ‡πÅ‡∏ö‡∏ö‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (Smoothing) ‡∏•‡∏î Noise
  unsigned long totalAdc = 0;
  int sampleCount = 30; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô

  for(int i = 0; i < sampleCount; i++) {
    totalAdc += analogRead(phPin);
    delay(5); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  }
  
  // ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ ADC
  float avgAdc = totalAdc / (float)sampleCount;
  
  // 2. ‡πÅ‡∏õ‡∏•‡∏á ADC ‡πÄ‡∏õ‡πá‡∏ô Voltage
  float voltage = avgAdc * (ESP_ADC_VOLTAGE / ADC_RESOLUTION);

  // 3. ‡πÅ‡∏õ‡∏•‡∏á Voltage ‡πÄ‡∏õ‡πá‡∏ô pH ‡∏ú‡πà‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ
  float currentPH = getPH(voltage);

  // 4. ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Ñ‡πà‡∏≤ (Clamping) ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏∏‡∏î‡∏ä‡πà‡∏ß‡∏á 0-14
  if (currentPH < 0) currentPH = 0;
  if (currentPH > 14) currentPH = 14;

  // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô Serial Monitor
  Serial.print("Raw ADC: ");
  Serial.print((int)avgAdc);
  Serial.print(" | Voltage: ");
  Serial.print(voltage, 3);
  Serial.print(" V | pH: ");
  Serial.println(currentPH, 2); // ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° 2 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á

  delay(1000); // ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡πÜ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
}
```

---

## üñºÔ∏è ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à
<div align="center">
  <img src="01_ESP32_pH.png" alt="ESP32-C3 pH Serial Schematic" width="400"/>
</div>

